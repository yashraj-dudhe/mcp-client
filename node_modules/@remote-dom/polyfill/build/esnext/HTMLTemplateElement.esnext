import { CONTENT } from './constants.esnext';
import { Element } from './Element.esnext';
import { parseHtml, serializeChildren } from './serialization.esnext';

class HTMLTemplateElement extends Element {
  [CONTENT];
  get content() {
    let content = this[CONTENT];
    if (!content) {
      content = this.ownerDocument.createDocumentFragment();
      this[CONTENT] = content;
    }
    return content;
  }
  set content(_) {
  }
  set innerHTML(html) {
    this.content.replaceChildren(parseHtml(String(html), this));
  }
  get innerHTML() {
    const content = this[CONTENT];
    return content ? serializeChildren(content) : "";
  }
}

export { HTMLTemplateElement };
